{"ast":null,"code":"var _jsxFileName = \"D:\\\\2077\\\\ForMerging-master\\\\ForMerging\\\\src\\\\components\\\\gallery\\\\index.js\";\nimport React, { Component } from 'react';\nimport { firebaseGallery, firebase } from '../../firebase';\nimport { firebaseLooper } from '../ui/misc';\nimport { Promise } from 'core-js';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass Gallery extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true,\n      gallery: [],\n      filteredGallery: [],\n      filterThrough: 'All'\n    };\n\n    this.showFiltered = filter => {\n      const list = this.state.gallery.filter(photo => {\n        return photo.gallery_tag === filter;\n      });\n      this.setState({\n        filteredGallery: filter === 'All' ? this.state.gallery : list,\n        filterThrough: filter\n      });\n    };\n\n    this.addPhotosToPage = (photoObj, i) => {\n      console.log(photoObj.url);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 gallery-image-wrapper\",\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-single-image-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"gallery-image-single\",\n        src: photoObj.url,\n        onLoad: () => console.log('loadded'),\n        alt: photoObj.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      })));\n    };\n  }\n\n  componentDidMount() {\n    firebaseGallery.once('value').then(snapshot => {\n      const gallery = firebaseLooper(snapshot);\n      console.log(gallery);\n      let promises = [];\n\n      for (let key in gallery) {\n        promises.push(new Promise((resolve, reject) => {\n          firebase.storage().ref('gallery').child(gallery[key].image).getDownloadURL().then(url => {\n            gallery[key].url = url;\n            resolve();\n          });\n        }));\n      }\n\n      Promise.all(promises).then(() => {\n        this.setState({\n          loading: false,\n          gallery: gallery,\n          filteredGallery: gallery\n        });\n      }).catch(e => console.log(e));\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gallery-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row row-first\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"second-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, \"Gallery\"), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"gallery-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"third-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, \"\\\"Fresh portfolio of pictures that will keep you looking for more\\\"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gallery_filters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filters_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"portfolioFilter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"Portfolio-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: `option ${this.state.filterThrough === 'All' ? 'active' : ''}`,\n      onClick: () => this.showFiltered('All'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 41\n      }\n    }, \"All\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: `option ${this.state.filterThrough === 'rooms' ? 'active' : ''}`,\n      onClick: () => this.showFiltered('rooms'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 41\n      }\n    }, \"ROOMS\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: `option ${this.state.filterThrough === 'food' ? 'active' : ''}`,\n      onClick: () => this.showFiltered('food'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 41\n      }\n    }, \"FOOD & DRINKS\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: `option ${this.state.filterThrough === 'exterior' ? 'active' : ''}`,\n      onClick: () => this.showFiltered('exterior'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 41\n      }\n    }, \"EXTERIOR\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: `option ${this.state.filterThrough === 'interior' ? 'active' : ''}`,\n      onClick: () => this.showFiltered('interior'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 41\n      }\n    }, \"INTERIOR\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row row-second\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, !this.state.loading && this.state.gallery.length ? this.state.filteredGallery.map((photoObj, i) => this.addPhotosToPage(photoObj, i)) : /*#__PURE__*/React.createElement(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 31\n      }\n    })))));\n  }\n\n}\n\nexport default Gallery;","map":{"version":3,"sources":["D:/2077/ForMerging-master/ForMerging/src/components/gallery/index.js"],"names":["React","Component","firebaseGallery","firebase","firebaseLooper","Promise","CircularProgress","Gallery","state","loading","gallery","filteredGallery","filterThrough","showFiltered","filter","list","photo","gallery_tag","setState","addPhotosToPage","photoObj","i","console","log","url","id","componentDidMount","once","then","snapshot","promises","key","push","resolve","reject","storage","ref","child","image","getDownloadURL","all","catch","e","render","length","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { firebaseGallery, firebase } from '../../firebase';\r\nimport {firebaseLooper} from '../ui/misc'\r\nimport {Promise} from 'core-js';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nclass Gallery extends Component {\r\n\r\n    state={\r\n        loading: true,\r\n        gallery: [],\r\n        filteredGallery: [],\r\n        filterThrough: 'All'\r\n    }\r\n\r\n    componentDidMount(){\r\n        firebaseGallery.once('value').then((snapshot)=>{\r\n            const gallery = firebaseLooper(snapshot)\r\n            console.log(gallery)\r\n            let promises = [];\r\n            for(let key in gallery){\r\n                promises.push(\r\n                    new Promise((resolve,reject) => {\r\n                        firebase.storage().ref('gallery')\r\n                        .child(gallery[key].image).getDownloadURL()\r\n                        .then( url => {\r\n                            gallery[key].url = url\r\n                            resolve();\r\n                        })\r\n                    })\r\n                )\r\n            }\r\n            Promise.all(promises).then(()=>{\r\n                this.setState({\r\n                    loading: false,\r\n                    gallery: gallery,\r\n                    filteredGallery: gallery\r\n                })\r\n            }).catch(e => console.log(e))\r\n        }).catch((e)=>{\r\n            console.log(e)\r\n        })\r\n    }\r\n\r\n    showFiltered = (filter) => {\r\n        const list = this.state.gallery.filter((photo) => {\r\n            return photo.gallery_tag === filter\r\n        })\r\n        this.setState({\r\n            filteredGallery: filter === 'All' ? this.state.gallery : list,\r\n            filterThrough: filter\r\n        })\r\n    }\r\n\r\n    addPhotosToPage = (photoObj, i) => {\r\n        console.log(photoObj.url)\r\n        return (<div className=\"col-md-4 gallery-image-wrapper\" key={i}>\r\n            <div className=\"gallery-single-image-wrapper\">\r\n                    <img className=\"gallery-image-single\" \r\n                        src={photoObj.url} \r\n                        onLoad={()=> console.log('loadded')} \r\n                        alt={photoObj.id}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )    \r\n    }\r\n\r\n    render() {\r\n        console.log(this.state)\r\n        return (\r\n            <div className=\"gallery-container\">\r\n                <div className=\"container\">\r\n                    <div className=\"row row-first\">\r\n                        <h2 className=\"second-heading\">Gallery</h2>\r\n                        <hr className=\"gallery-line\"></hr>\r\n                        <h5 className=\"third-heading\" >\"Fresh portfolio of pictures that will keep you looking for more\"</h5>\r\n                        <div className=\"gallery_filters\">\r\n                            <div className=\"filters_container\">\r\n                                <div className=\"portfolioFilter\">  \r\n                                    <ul className=\"Portfolio-nav\">\r\n                                        <li \r\n                                            className={`option ${this.state.filterThrough === 'All' ? 'active' : ''}`} \r\n                                            onClick={() => this.showFiltered('All')}>All</li>\r\n                                        <li \r\n                                            className={`option ${this.state.filterThrough === 'rooms' ? 'active' : ''}`} \r\n                                            onClick={() => this.showFiltered('rooms')}>ROOMS</li>\r\n                                        <li \r\n                                            className={`option ${this.state.filterThrough === 'food' ? 'active' : ''}`} \r\n                                            onClick={() => this.showFiltered('food')}>FOOD & DRINKS</li>\r\n                                        <li \r\n                                            className={`option ${this.state.filterThrough === 'exterior' ? 'active' : ''}`} \r\n                                            onClick={() => this.showFiltered('exterior')}>EXTERIOR</li>\r\n                                        <li \r\n                                            className={`option ${this.state.filterThrough === 'interior' ? 'active' : ''}`} \r\n                                            onClick={() => this.showFiltered('interior')}>INTERIOR</li>\r\n                                    </ul>\r\n                                </div> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row row-second\">\r\n                            {!this.state.loading && this.state.gallery.length?\r\n                                this.state.filteredGallery.map((photoObj, i) => (\r\n                                    this.addPhotosToPage(photoObj, i)\r\n                                ))\r\n                        \r\n                            : <CircularProgress />}\r\n                            \r\n                        </div>\r\n                        \r\n                    </div>    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Gallery;"]},"metadata":{},"sourceType":"module"}