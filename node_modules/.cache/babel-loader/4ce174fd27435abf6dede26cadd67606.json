{"ast":null,"code":"var _jsxFileName = \"D:\\\\2077\\\\ForMerging-master\\\\ForMerging\\\\src\\\\components\\\\accomodation\\\\index.js\";\nimport React, { Component } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { firebase, firebaseRooms } from '../../firebase';\nimport { firebaseLooper } from '../ui/misc';\nimport RoomCard from './RoomCard.js';\nimport Tariff from './Tariff';\nimport { withRouter } from 'react-router-dom';\n\nclass Accomodation extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isLoading: true,\n      rooms: []\n    };\n  }\n\n  componentDidMount() {\n    firebaseRooms.once('value').then(snapshot => {\n      const rooms = firebaseLooper(snapshot);\n      let promises = [];\n\n      for (let key in rooms) {\n        promises.push(new Promise((resolve, reject) => {\n          firebase.storage().ref('rooms').child(rooms[key].image).getDownloadURL().then(url => {\n            rooms[key].url = url;\n            resolve();\n          });\n        }));\n      }\n\n      Promise.all(promises).then(() => {\n        this.setState({\n          isLoading: false,\n          rooms\n        });\n      }).catch(e => {\n        console.log('erroe: ', e);\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"accomodation-container container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"accomodation-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"second-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, \"Accomodation\"), /*#__PURE__*/React.createElement(\"hr\", {\n      class: \"service-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"third-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, \"\\\"Get the best sleep away from home\\\"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gallery-grids row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, this.state.isLoading ? /*#__PURE__*/React.createElement(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 29\n      }\n    }) : this.state.rooms.map((room, i) => /*#__PURE__*/React.createElement(RoomCard, {\n      room: room,\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Tariff, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(Accomodation);","map":{"version":3,"sources":["D:/2077/ForMerging-master/ForMerging/src/components/accomodation/index.js"],"names":["React","Component","CircularProgress","firebase","firebaseRooms","firebaseLooper","RoomCard","Tariff","withRouter","Accomodation","state","isLoading","rooms","componentDidMount","once","then","snapshot","promises","key","push","Promise","resolve","reject","storage","ref","child","image","getDownloadURL","url","all","setState","catch","e","console","log","render","map","room","i"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,gBAAxC;AACA,SAASC,cAAT,QAA+B,YAA/B;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAEA,MAAMC,YAAN,SAA2BR,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAEjCS,KAFiC,GAEzB;AACJC,MAAAA,SAAS,EAAE,IADP;AAEJC,MAAAA,KAAK,EAAE;AAFH,KAFyB;AAAA;;AAOjCC,EAAAA,iBAAiB,GAAE;AACfT,IAAAA,aAAa,CAACU,IAAd,CAAmB,OAAnB,EAA4BC,IAA5B,CAAkCC,QAAD,IAAc;AAC3C,YAAMJ,KAAK,GAAGP,cAAc,CAACW,QAAD,CAA5B;AACA,UAAIC,QAAQ,GAAG,EAAf;;AACA,WAAI,IAAIC,GAAR,IAAeN,KAAf,EAAqB;AACjBK,QAAAA,QAAQ,CAACE,IAAT,CACI,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC7BnB,UAAAA,QAAQ,CAACoB,OAAT,GAAmBC,GAAnB,CAAuB,OAAvB,EACCC,KADD,CACOb,KAAK,CAACM,GAAD,CAAL,CAAWQ,KADlB,EACyBC,cADzB,GAECZ,IAFD,CAEOa,GAAD,IAAO;AACThB,YAAAA,KAAK,CAACM,GAAD,CAAL,CAAWU,GAAX,GAAiBA,GAAjB;AACAP,YAAAA,OAAO;AACV,WALD;AAMH,SAPD,CADJ;AAUH;;AACDD,MAAAA,OAAO,CAACS,GAAR,CAAYZ,QAAZ,EACCF,IADD,CACM,MAAI;AACN,aAAKe,QAAL,CAAc;AACVnB,UAAAA,SAAS,EAAE,KADD;AAEVC,UAAAA;AAFU,SAAd;AAIH,OAND,EAMGmB,KANH,CAMSC,CAAC,IAAI;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,CAAvB;AACH,OARD;AASH,KAxBD;AAyBH;;AAEDG,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAI,MAAA,KAAK,EAAC,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAI,MAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAHJ,CADJ,eAMI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAKzB,KAAL,CAAWC,SAAX,gBACI,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,GAEE,KAAKD,KAAL,CAAWE,KAAX,CAAiBwB,GAAjB,CAAqB,CAACC,IAAD,EAAOC,CAAP,kBACnB,oBAAC,QAAD;AACI,MAAA,IAAI,EAAED,IADV;AAEI,MAAA,GAAG,EAAEC,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJV,CANJ,eAmBI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,CADJ;AAuBH;;AA3DgC;;AA8DrC,eAAe9B,UAAU,CAACC,YAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { firebase, firebaseRooms } from '../../firebase'\r\nimport { firebaseLooper } from '../ui/misc'; \r\nimport RoomCard from './RoomCard.js';\r\nimport Tariff from './Tariff';\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nclass Accomodation extends Component {\r\n\r\n    state = {\r\n        isLoading: true,\r\n        rooms: []\r\n    }\r\n\r\n    componentDidMount(){\r\n        firebaseRooms.once('value').then((snapshot) => {\r\n            const rooms = firebaseLooper(snapshot);\r\n            let promises = [];\r\n            for(let key in rooms){\r\n                promises.push(\r\n                    new Promise((resolve, reject) => {\r\n                        firebase.storage().ref('rooms')\r\n                        .child(rooms[key].image).getDownloadURL()\r\n                        .then((url)=>{\r\n                            rooms[key].url = url;\r\n                            resolve();\r\n                        })\r\n                    })\r\n                )\r\n            }\r\n            Promise.all(promises)\r\n            .then(()=>{\r\n                this.setState({\r\n                    isLoading: false,\r\n                    rooms\r\n                })\r\n            }).catch(e => {\r\n                console.log('erroe: ', e)\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"accomodation-container container\">\r\n                <div className=\"accomodation-heading\">\r\n                    <h2 className=\"second-heading\">Accomodation</h2>\r\n                    <hr class=\"service-line\"/>\r\n                    <h5 className=\"third-heading\">\"Get the best sleep away from home\"</h5>\r\n                </div>\r\n                <div className=\"gallery-grids row\">\r\n                    {\r\n                        this.state.isLoading ? \r\n                            <CircularProgress />\r\n                        : this.state.rooms.map((room, i) => (\r\n                            <RoomCard \r\n                                room={room}\r\n                                key={i}\r\n                            />\r\n                        ))\r\n\r\n                    }\r\n                </div>\r\n                <Tariff />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Accomodation);"]},"metadata":{},"sourceType":"module"}